paths:
  /account/me:
    get:
      summary: 현재 계정 정보 조회
      description: 인증된 계정의 정보를 반환합니다.
      operationId: getMe
      tags:
        - Account
      security:
        - OperationBased: [read_trello]
      responses:
        '200':
          description: 계정 정보 반환 성공
          content:
            application/json:
              schema:
                $ref: '../components/schemas.yaml#/schemas/Account'
        '401':
          $ref: '../components/responses.yaml#/responses/Error401'
    put:
      summary: 계정 정보 수정
      description: 현재 계정의 정보를 수정합니다.
      operationId: updateMe
      tags:
        - Account
      security:
        - OperationBased: [write_trello]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                fullName:
                  type: string
                  description: 이름
                profileImage:
                  type: string
                  format: uri
                  description: 프로필 이미지 URL
      responses:
        '200':
          description: 계정 정보 수정 성공
          content:
            application/json:
              schema:
                $ref: '../components/schemas.yaml#/schemas/Account'
        '400':
          $ref: '../components/responses.yaml#/responses/Error400'
        '401':
          $ref: '../components/responses.yaml#/responses/Error401'
                
  /accounts/{accountId}:
    get:
      summary: 계정 정보 조회
      description: 특정 계정의 정보를 조회합니다.
      operationId: getAccount
      tags:
        - Account
      security:
        - OperationBased: [read_trello]
      parameters:
        - $ref: '../components/parameters.yaml#/parameters/accountIdParam'
      responses:
        '200':
          description: 계정 정보 조회 성공
          content:
            application/json:
              schema:
                $ref: '../components/schemas.yaml#/schemas/Account'
        '401':
          $ref: '../components/responses.yaml#/responses/Error401'
        '404':
          $ref: '../components/responses.yaml#/responses/Error404'

  /auth/signup:
    post:
      summary: 회원 가입
      description: 새로운 계정을 생성합니다.
      operationId: signup
      tags:
        - Auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - username
                - email
                - password
              properties:
                username:
                  type: string
                  description: 사용자 아이디
                email:
                  type: string
                  format: email
                  description: 이메일 주소
                password:
                  type: string
                  description: 비밀번호
                fullName:
                  type: string
                  description: 이름
                profileImage:
                  type: string
                  format: uri
                  description: 프로필 이미지 URL
      responses:
        '201':
          description: 회원가입 성공
          content:
            application/json:
              schema:
                $ref: '../components/schemas.yaml#/schemas/Account'
        '400':
          description: 잘못된 요청
          content:
            application/json:
              schema:
                $ref: '../components/schemas.yaml#/schemas/ErrorResponse'
        '409':
          description: 이미 존재하는 이메일 또는 사용자명
          content:
            application/json:
              schema:
                $ref: '../components/schemas.yaml#/schemas/ErrorResponse'

  /auth/verify-email:
    post:
      summary: 이메일 인증
      description: 회원가입시 발송된 인증 코드로 이메일을 인증합니다.
      operationId: verifyEmail
      tags:
        - Auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - verificationCode
              properties:
                email:
                  type: string
                  format: email
                  description: 인증할 이메일
                verificationCode:
                  type: string
                  description: 이메일로 전송된 인증 코드
      responses:
        '200':
          description: 이메일 인증 성공
        '400':
          $ref: '../components/responses.yaml#/responses/Error400'
        '404':
          description: 해당 이메일 또는 인증 코드를 찾을 수 없음
          content:
            application/json:
              schema:
                $ref: '../components/schemas.yaml#/schemas/ErrorResponse'

  /auth/forgot-password:
    post:
      summary: 비밀번호 재설정 요청
      description: 비밀번호 재설정 링크를 이메일로 전송합니다.
      operationId: forgotPassword
      tags:
        - Auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
              properties:
                email:
                  type: string
                  format: email
                  description: 비밀번호를 재설정할 계정의 이메일
      responses:
        '200':
          description: 비밀번호 재설정 링크 전송 성공
        '404':
          description: 해당 이메일을 가진 계정을 찾을 수 없음
          content:
            application/json:
              schema:
                $ref: '../components/schemas.yaml#/schemas/ErrorResponse'

  /auth/reset-password:
    post:
      summary: 비밀번호 재설정
      description: 새로운 비밀번호를 설정합니다.
      operationId: resetPassword
      tags:
        - Auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - resetToken
                - newPassword
              properties:
                resetToken:
                  type: string
                  description: 비밀번호 재설정 토큰 (이메일 링크에서 추출)
                newPassword:
                  type: string
                  format: password
                  description: 새로운 비밀번호
      responses:
        '200':
          description: 비밀번호 재설정 성공
        '400':
          $ref: '../components/responses.yaml#/responses/Error400'
        '404':
          description: 유효하지 않거나 만료된 재설정 토큰
          content:
            application/json:
              schema:
                $ref: '../components/schemas.yaml#/schemas/ErrorResponse'